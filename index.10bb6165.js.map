{"mappings":"A,S,E,C,C,C,E,C,A,M,G,E,E,M,A,G,C,E,E,M,A,E,I,I,E,E,E,A,M,G,E,E,I,C,C,E,C,C,C,E,C,O,C,C,S,E,C,E,O,A,S,C,E,G,M,O,C,G,O,E,E,E,I,A,S,C,E,G,A,a,O,Q,A,M,C,C,O,Q,C,E,A,M,C,C,a,C,O,M,I,C,E,E,I,A,S,C,C,C,E,G,G,G,A,U,O,E,O,E,E,K,G,I,E,O,S,C,Q,C,I,C,G,K,C,E,I,G,W,G,E,W,E,C,E,E,W,C,I,A,E,A,Q,G,A,Q,E,O,M,I,C,G,G,A,c,G,2C,I,C,G,O,E,E,K,G,E,I,A,W,M,A,U,wI,G,CC0IA,SAAS,EAAgB,CAAsC,EAApC,IAAA,EAAF,EAAE,IAAA,CAAA,EAAF,EAAQ,IAAA,CAAA,EAAA,AAAA,KAAA,IAAA,EAAO,QAAA,EAAA,EAAf,EAAwB,OAAA,CAAA,EAAA,AAAA,KAAA,IAAA,EAAU,GAAhC,EACnB,EAAe,SAAS,aAAa,CAAC,OACtC,EAAQ,SAAS,aAAa,CAAC,MAC/B,EAAU,SAAS,aAAa,CAAC,IAEvC,CAAA,EAAM,KAAK,CAAC,aAAa,CAAG,aAE5B,EAAa,YAAY,CAAC,QAAS,gBAAqB,MAAA,CAAL,IACnD,EAAa,YAAY,CAAC,UAAW,gBACrC,EAAM,WAAW,CAAG,GAAW,EAC/B,EAAQ,WAAW,CAAG,EAElB,GACF,CAAA,EAAa,KAAK,CAAC,eAAe,CAAG,yBADvC,EAIA,EAAa,MAAM,CAAC,GACpB,EAAa,MAAM,CAAC,GACpB,SAAS,IAAI,CAAC,MAAM,CAAC,GAErB,WAAW,WACT,EAAa,MAAM,EACrB,EAAG,IACL,CAkDA,SAAS,IACP,IAAM,EAAY,EAAU,aAAa,CAAC,eACpC,EAAkB,AAjC1B,SAA2B,CAAK,EAC9B,IAAM,EAAO,UAEb,GACE,EAAY,QAAQ,CAAC,MACpB,CAAA,AAA8B,GAA9B,CAAC,EAAM,OAAO,CAAC,MAAO,KAAa,CAAC,CAAA,EAMrC,OAFA,EAAgB,CAAE,KAFL,yBAEW,KAAA,CAAK,GAEtB,KAGT,GAAI,CAAC,EAAY,QAAQ,CAAC,MAAS,CAAA,EAAQ,IAAM,EAAQ,EAAA,EAKvD,OAFA,EAAgB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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["\"use strict\";\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n// write code here\nfunction sortTableByColumn(columnIndex, sortParam, table) {\n    var tableCopy = _to_consumable_array(table);\n    tableCopy.sort(function(a, b) {\n        var cellA = a.cells[columnIndex].textContent;\n        var cellB = b.cells[columnIndex].textContent;\n        if (sortParam === \"Salary\") {\n            var salaryA = +cellA.replace(/\\D/g, \"\");\n            var salaryB = +cellB.replace(/\\D/g, \"\");\n            return salaryA - salaryB;\n        }\n        return cellA.localeCompare(cellB);\n    });\n    if (sortField === sortParam && !isDescending) {\n        isDescending = true;\n        tableCopy.reverse();\n    } else {\n        isDescending = false;\n        sortField = sortParam;\n    }\n    return tableCopy;\n}\nfunction getUniqueCities() {\n    var tableBodyRows = _to_consumable_array(document.querySelector(\"tbody\").rows);\n    return _to_consumable_array(new Set(tableBodyRows.map(function(row) {\n        return row.cells[2].textContent;\n    })));\n}\nfunction getForm() {\n    var form = document.createElement(\"form\");\n    form.setAttribute(\"class\", \"new-employee-form\");\n    tableHead.forEach(function(el) {\n        var title = el.textContent;\n        var label = document.createElement(\"label\");\n        label.textContent = \"\".concat(title, \":\");\n        if (title === \"Office\") {\n            var select = document.createElement(\"select\");\n            select.setAttribute(\"data-qa\", \"\".concat(title).toLowerCase());\n            getOptionCities(select);\n            select.setAttribute(\"name\", \"\".concat(title).toLowerCase());\n            label.append(select);\n        } else {\n            var input = document.createElement(\"input\");\n            var typeInput = title === \"Age\" || title === \"Salary\" ? \"number\" : \"text\";\n            input.setAttribute(\"name\", \"\".concat(title).toLowerCase());\n            input.setAttribute(\"type\", \"\".concat(typeInput));\n            input.setAttribute(\"data-qa\", \"\".concat(title).toLowerCase());\n            label.append(input);\n        }\n        form.append(label);\n    });\n    submitButton.setAttribute(\"type\", \"submit\");\n    submitButton.textContent = \"Save to table\";\n    form.append(submitButton);\n    return form;\n}\nfunction validateEmployeeData(employee) {\n    var nameValue = employee.nameValue, position = employee.position, age = employee.age, salary = employee.salary;\n    switch(true){\n        case !nameValue:\n            document.getElementsByName(\"name\")[0].focus();\n            return {\n                text: \"Please, enter a name\"\n            };\n        case nameValue.length > 0 && nameValue.length < 4:\n            document.getElementsByName(\"name\")[0].focus();\n            return {\n                text: \"Name has less than 4 letters\",\n                warning: \"warning\"\n            };\n        case !position:\n            document.getElementsByName(\"position\")[0].focus();\n            return {\n                text: \"Please, enter position\"\n            };\n        case !age:\n            document.getElementsByName(\"age\")[0].focus();\n            return {\n                text: \"Please, enter age\"\n            };\n        case age < 18 || age > 90:\n            document.getElementsByName(\"age\")[0].focus();\n            return {\n                text: \"Age must be between 18 and 90\",\n                warning: \"warning\"\n            };\n        case !salary:\n            document.getElementsByName(\"salary\")[0].focus();\n            return {\n                text: \"Please, enter the amount of salary\"\n            };\n        default:\n            return {\n                text: \"Employee successfully added\",\n                type: \"success\"\n            };\n    }\n}\nfunction createNewEmployee() {\n    var employee = {\n        nameValue: _to_consumable_array(document.getElementsByName(\"name\"))[0].value.trim(),\n        position: _to_consumable_array(document.getElementsByName(\"position\"))[0].value,\n        city: _to_consumable_array(document.getElementsByName(\"office\"))[0].value,\n        age: +_to_consumable_array(document.getElementsByName(\"age\"))[0].value,\n        salary: +_to_consumable_array(document.getElementsByName(\"salary\"))[0].value\n    };\n    var validationResult = validateEmployeeData(employee);\n    getNotification(validationResult);\n    if (validationResult.type === \"success\") {\n        document.querySelector(\"tbody\").append(getEmployee(employee));\n        document.querySelector(\".new-employee-form\").reset();\n    }\n}\nfunction getNotification(param) {\n    var text = param.text, _param_type = param.type, type = _param_type === void 0 ? \"error\" : _param_type, _param_warning = param.warning, warning = _param_warning === void 0 ? \"\" : _param_warning;\n    var notification = document.createElement(\"div\");\n    var title = document.createElement(\"h1\");\n    var message = document.createElement(\"p\");\n    title.style.textTransform = \"capitalize\";\n    notification.setAttribute(\"class\", \"notification \".concat(type));\n    notification.setAttribute(\"data-qa\", \"notification\");\n    title.textContent = warning || type;\n    message.textContent = text;\n    if (warning) notification.style.backgroundColor = \"rgba(255, 212, 39, 0.3)\";\n    notification.append(title);\n    notification.append(message);\n    document.body.append(notification);\n    setTimeout(function() {\n        notification.remove();\n    }, 2000);\n}\nfunction getEmployee(employee) {\n    var row = document.createElement(\"tr\");\n    Object.keys(employee).forEach(function(key) {\n        var cell = document.createElement(\"td\");\n        cell.textContent = key === \"salary\" ? \"$\".concat(employee[key].toLocaleString(\"en\")) : employee[key];\n        row.append(cell);\n    });\n    return row;\n}\nfunction validateEditInput(value) {\n    var type = \"warning\";\n    if (editingCell.includes(\"$\") && (+value.replace(/\\D/g, \"\") === 0 || !value)) {\n        var text = \"Please, enter a salary\";\n        getNotification({\n            text: text,\n            type: type\n        });\n        return null;\n    }\n    if (!editingCell.includes(\"$\") && (value < 18 || value > 90)) {\n        var text1 = \"Age must be between 18 and 90\";\n        getNotification({\n            text: text1,\n            type: type\n        });\n        return null;\n    }\n    if (editingCell.includes(\"$\")) {\n        var normalizedValue = +value.replace(/\\D/g, \"\");\n        return \"$\".concat(normalizedValue.toLocaleString(\"en\"));\n    }\n    return value;\n}\nfunction processEditInput() {\n    var editInput = activeRow.querySelector(\".cell-input\");\n    var normalizedValue = validateEditInput(editInput.value);\n    switch(normalizedValue){\n        case null:\n            document.querySelector(\".cell-input\").focus();\n            break;\n        case normalizedValue:\n            editInput.parentElement.textContent = normalizedValue;\n            editInput.remove();\n            edit = \"\";\n            break;\n    }\n}\nfunction getOptionCities(select) {\n    officeCities.forEach(function(city) {\n        var option = document.createElement(\"option\");\n        option.textContent = \"\".concat(city);\n        option.setAttribute(\"value\", \"\".concat(city));\n        if (city === editingCell) option.setAttribute(\"selected\", \"selected\");\n        select.append(option);\n    });\n}\nfunction getEditCity(selectedCell) {\n    selectedCell.textContent = \"\";\n    var select = document.createElement(\"select\");\n    select.setAttribute(\"name\", \"edit-city\");\n    select.style.width = \"150px\";\n    select.style.boxSizing = \"border-box\";\n    select.style.border = \"1px solid #808080\";\n    select.style.borderRadius = \"4px\";\n    select.style.color = \"#808080\";\n    select.style.padding = \"4px\";\n    select.style.outlineColor = \"#808080\";\n    getOptionCities(select);\n    selectedCell.append(select);\n}\nfunction processEditCity() {\n    var editCity = document.getElementsByName(\"edit-city\")[0];\n    editCity.parentElement.textContent = editCity.value;\n    editCity.remove();\n    edit = \"\";\n}\nvar tableHead = _to_consumable_array(document.querySelector(\"thead\").querySelectorAll(\"th\"));\nvar submitButton = document.createElement(\"button\");\nvar officeCities = getUniqueCities();\nvar sortField = \"\";\nvar isDescending = false;\nvar activeRow = null;\nvar edit = \"\";\nvar editingCell = \"\";\ndocument.body.append(getForm());\naddEventListener(\"click\", function(e) {\n    e.preventDefault();\n    var selectedRow = e.target.parentElement;\n    var tableBodyRows = _to_consumable_array(document.querySelector(\"tbody\").rows);\n    if (tableHead.includes(e.target)) {\n        var index = tableHead.findIndex(function(cell) {\n            return cell === e.target;\n        });\n        var sortBy = e.target.textContent;\n        var sortedRows = sortTableByColumn(index, sortBy, tableBodyRows);\n        var tableBody = document.querySelector(\"tbody\");\n        var newTableBody = document.createElement(\"tbody\");\n        sortedRows.forEach(function(row) {\n            return newTableBody.append(row);\n        });\n        tableBody.replaceWith(newTableBody);\n    }\n    if (activeRow && activeRow !== selectedRow && tableBodyRows.includes(selectedRow) || activeRow && !tableBodyRows.includes(selectedRow) && selectedRow.parentElement !== document.querySelector(\"thead\")) activeRow.removeAttribute(\"class\");\n    if (tableBodyRows.includes(selectedRow) && !edit) {\n        selectedRow.setAttribute(\"class\", \"active\");\n        activeRow = selectedRow;\n    }\n    if (e.target === submitButton) createNewEmployee();\n    if (edit && edit !== \"city\" && activeRow && selectedRow !== activeRow) processEditInput();\n    if (edit === \"city\" && activeRow && selectedRow.parentElement !== activeRow) processEditCity();\n});\naddEventListener(\"dblclick\", function(e) {\n    var tableBodyRows = _to_consumable_array(document.querySelector(\"tbody\").rows);\n    if (!tableBodyRows.includes(e.target.parentElement)) return;\n    var selectedCell = e.target;\n    var cityCell = selectedCell.parentElement.querySelectorAll(\"td\")[2];\n    activeRow.removeAttribute(\"class\");\n    editingCell = e.target.textContent;\n    if (selectedCell === cityCell) {\n        edit = \"city\";\n        getEditCity(selectedCell);\n        return;\n    }\n    var input = document.createElement(\"input\");\n    input.setAttribute(\"class\", \"cell-input\");\n    input.value = editingCell;\n    e.target.textContent = \"\";\n    e.target.append(input);\n    activeRow = e.target;\n    input.focus();\n    edit = \"other\";\n});\naddEventListener(\"keydown\", function(e) {\n    if (e.key === \"Enter\" && edit === \"other\") processEditInput();\n    if (e.key === \"Escape\" && edit === \"other\") {\n        var editInput = activeRow.querySelector(\".cell-input\");\n        editInput.parentElement.textContent = editingCell;\n        editInput.remove();\n        edit = \"\";\n    }\n    if (e.key === \"Escape\" && edit === \"city\") processEditCity();\n});\naddEventListener(\"change\", function() {\n    if (officeCities.includes(editingCell)) processEditCity();\n});\n\n//# sourceMappingURL=index.10bb6165.js.map\n","'use strict';\n\n// write code here\nfunction sortTableByColumn(columnIndex, sortParam, table) {\n  const tableCopy = [...table];\n\n  tableCopy.sort((a, b) => {\n    const cellA = a.cells[columnIndex].textContent;\n    const cellB = b.cells[columnIndex].textContent;\n\n    if (sortParam === 'Salary') {\n      const salaryA = +cellA.replace(/\\D/g, '');\n      const salaryB = +cellB.replace(/\\D/g, '');\n\n      return salaryA - salaryB;\n    }\n\n    return cellA.localeCompare(cellB);\n  });\n\n  if (sortField === sortParam && !isDescending) {\n    isDescending = true;\n\n    tableCopy.reverse();\n  } else {\n    isDescending = false;\n    sortField = sortParam;\n  }\n\n  return tableCopy;\n}\n\nfunction getUniqueCities() {\n  const tableBodyRows = [...document.querySelector('tbody').rows];\n\n  return [...new Set(tableBodyRows.map((row) => row.cells[2].textContent))];\n}\n\nfunction getForm() {\n  const form = document.createElement('form');\n\n  form.setAttribute('class', 'new-employee-form');\n\n  tableHead.forEach((el) => {\n    const title = el.textContent;\n    const label = document.createElement('label');\n\n    label.textContent = `${title}:`;\n\n    if (title === 'Office') {\n      const select = document.createElement('select');\n\n      select.setAttribute('data-qa', `${title}`.toLowerCase());\n      getOptionCities(select);\n\n      select.setAttribute('name', `${title}`.toLowerCase());\n      label.append(select);\n    } else {\n      const input = document.createElement('input');\n      const typeInput =\n        title === 'Age' || title === 'Salary' ? 'number' : 'text';\n\n      input.setAttribute('name', `${title}`.toLowerCase());\n      input.setAttribute('type', `${typeInput}`);\n      input.setAttribute('data-qa', `${title}`.toLowerCase());\n\n      label.append(input);\n    }\n\n    form.append(label);\n  });\n\n  submitButton.setAttribute('type', 'submit');\n  submitButton.textContent = 'Save to table';\n\n  form.append(submitButton);\n\n  return form;\n}\n\nfunction validateEmployeeData(employee) {\n  const { nameValue, position, age, salary } = employee;\n\n  switch (true) {\n    case !nameValue:\n      document.getElementsByName('name')[0].focus();\n\n      return { text: 'Please, enter a name' };\n\n    case nameValue.length > 0 && nameValue.length < 4:\n      document.getElementsByName('name')[0].focus();\n\n      return { text: 'Name has less than 4 letters', warning: 'warning' };\n\n    case !position:\n      document.getElementsByName('position')[0].focus();\n\n      return { text: 'Please, enter position' };\n\n    case !age:\n      document.getElementsByName('age')[0].focus();\n\n      return { text: 'Please, enter age' };\n\n    case age < 18 || age > 90:\n      document.getElementsByName('age')[0].focus();\n\n      return { text: 'Age must be between 18 and 90', warning: 'warning' };\n\n    case !salary:\n      document.getElementsByName('salary')[0].focus();\n\n      return { text: 'Please, enter the amount of salary' };\n\n    default:\n      return { text: 'Employee successfully added', type: 'success' };\n  }\n}\n\nfunction createNewEmployee() {\n  const employee = {\n    nameValue: [...document.getElementsByName('name')][0].value.trim(),\n    position: [...document.getElementsByName('position')][0].value,\n    city: [...document.getElementsByName('office')][0].value,\n    age: +[...document.getElementsByName('age')][0].value,\n    salary: +[...document.getElementsByName('salary')][0].value,\n  };\n\n  const validationResult = validateEmployeeData(employee);\n\n  getNotification(validationResult);\n\n  if (validationResult.type === 'success') {\n    document.querySelector('tbody').append(getEmployee(employee));\n    document.querySelector('.new-employee-form').reset();\n  }\n}\n\nfunction getNotification({ text, type = 'error', warning = '' }) {\n  const notification = document.createElement('div');\n  const title = document.createElement('h1');\n  const message = document.createElement('p');\n\n  title.style.textTransform = 'capitalize';\n\n  notification.setAttribute('class', `notification ${type}`);\n  notification.setAttribute('data-qa', 'notification');\n  title.textContent = warning || type;\n  message.textContent = text;\n\n  if (warning) {\n    notification.style.backgroundColor = 'rgba(255, 212, 39, 0.3)';\n  }\n\n  notification.append(title);\n  notification.append(message);\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n}\n\nfunction getEmployee(employee) {\n  const row = document.createElement('tr');\n\n  Object.keys(employee).forEach((key) => {\n    const cell = document.createElement('td');\n\n    cell.textContent =\n      key === 'salary'\n        ? `$${employee[key].toLocaleString('en')}`\n        : employee[key];\n\n    row.append(cell);\n  });\n\n  return row;\n}\n\nfunction validateEditInput(value) {\n  const type = 'warning';\n\n  if (\n    editingCell.includes('$') &&\n    (+value.replace(/\\D/g, '') === 0 || !value)\n  ) {\n    const text = 'Please, enter a salary';\n\n    getNotification({ text, type });\n\n    return null;\n  }\n\n  if (!editingCell.includes('$') && (value < 18 || value > 90)) {\n    const text = 'Age must be between 18 and 90';\n\n    getNotification({ text, type });\n\n    return null;\n  }\n\n  if (editingCell.includes('$')) {\n    const normalizedValue = +value.replace(/\\D/g, '');\n\n    return `$${normalizedValue.toLocaleString('en')}`;\n  }\n\n  return value;\n}\n\nfunction processEditInput() {\n  const editInput = activeRow.querySelector('.cell-input');\n  const normalizedValue = validateEditInput(editInput.value);\n\n  switch (normalizedValue) {\n    case null:\n      document.querySelector('.cell-input').focus();\n      break;\n\n    case normalizedValue:\n      editInput.parentElement.textContent = normalizedValue;\n      editInput.remove();\n      edit = '';\n      break;\n  }\n}\n\nfunction getOptionCities(select) {\n  officeCities.forEach((city) => {\n    const option = document.createElement('option');\n\n    option.textContent = `${city}`;\n    option.setAttribute('value', `${city}`);\n\n    if (city === editingCell) {\n      option.setAttribute('selected', 'selected');\n    }\n\n    select.append(option);\n  });\n}\n\nfunction getEditCity(selectedCell) {\n  selectedCell.textContent = '';\n\n  const select = document.createElement('select');\n\n  select.setAttribute('name', 'edit-city');\n  select.style.width = '150px';\n  select.style.boxSizing = 'border-box';\n  select.style.border = '1px solid #808080';\n  select.style.borderRadius = '4px';\n  select.style.color = '#808080';\n  select.style.padding = '4px';\n  select.style.outlineColor = '#808080';\n\n  getOptionCities(select);\n\n  selectedCell.append(select);\n}\n\nfunction processEditCity() {\n  const editCity = document.getElementsByName('edit-city')[0];\n\n  editCity.parentElement.textContent = editCity.value;\n  editCity.remove();\n  edit = '';\n}\n\nconst tableHead = [...document.querySelector('thead').querySelectorAll('th')];\nconst submitButton = document.createElement('button');\nconst officeCities = getUniqueCities();\n\nlet sortField = '';\nlet isDescending = false;\nlet activeRow = null;\nlet edit = '';\nlet editingCell = '';\n\ndocument.body.append(getForm());\n\naddEventListener('click', (e) => {\n  e.preventDefault();\n\n  const selectedRow = e.target.parentElement;\n  const tableBodyRows = [...document.querySelector('tbody').rows];\n\n  if (tableHead.includes(e.target)) {\n    const index = tableHead.findIndex((cell) => cell === e.target);\n    const sortBy = e.target.textContent;\n\n    const sortedRows = sortTableByColumn(index, sortBy, tableBodyRows);\n    const tableBody = document.querySelector('tbody');\n    const newTableBody = document.createElement('tbody');\n\n    sortedRows.forEach((row) => newTableBody.append(row));\n    tableBody.replaceWith(newTableBody);\n  }\n\n  if (\n    (activeRow &&\n      activeRow !== selectedRow &&\n      tableBodyRows.includes(selectedRow)) ||\n    (activeRow &&\n      !tableBodyRows.includes(selectedRow) &&\n      selectedRow.parentElement !== document.querySelector('thead'))\n  ) {\n    activeRow.removeAttribute('class');\n  }\n\n  if (tableBodyRows.includes(selectedRow) && !edit) {\n    selectedRow.setAttribute('class', 'active');\n    activeRow = selectedRow;\n  }\n\n  if (e.target === submitButton) {\n    createNewEmployee();\n  }\n\n  if (edit && edit !== 'city' && activeRow && selectedRow !== activeRow) {\n    processEditInput();\n  }\n\n  if (edit === 'city' && activeRow && selectedRow.parentElement !== activeRow) {\n    processEditCity();\n  }\n});\n\naddEventListener('dblclick', (e) => {\n  const tableBodyRows = [...document.querySelector('tbody').rows];\n\n  if (!tableBodyRows.includes(e.target.parentElement)) {\n    return;\n  }\n\n  const selectedCell = e.target;\n  const cityCell = selectedCell.parentElement.querySelectorAll('td')[2];\n\n  activeRow.removeAttribute('class');\n  editingCell = e.target.textContent;\n\n  if (selectedCell === cityCell) {\n    edit = 'city';\n    getEditCity(selectedCell);\n\n    return;\n  }\n\n  const input = document.createElement('input');\n\n  input.setAttribute('class', 'cell-input');\n  input.value = editingCell;\n  e.target.textContent = '';\n  e.target.append(input);\n\n  activeRow = e.target;\n  input.focus();\n  edit = 'other';\n});\n\naddEventListener('keydown', (e) => {\n  if (e.key === 'Enter' && edit === 'other') {\n    processEditInput();\n  }\n\n  if (e.key === 'Escape' && edit === 'other') {\n    const editInput = activeRow.querySelector('.cell-input');\n\n    editInput.parentElement.textContent = editingCell;\n    editInput.remove();\n    edit = '';\n  }\n\n  if (e.key === 'Escape' && edit === 'city') {\n    processEditCity();\n  }\n});\n\naddEventListener('change', () => {\n  if (officeCities.includes(editingCell)) {\n    processEditCity();\n  }\n});\n"],"names":["_array_like_to_array","arr","len","length","i","arr2","Array","_to_consumable_array","_array_without_holes","isArray","_iterable_to_array","iter","Symbol","iterator","from","_unsupported_iterable_to_array","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_non_iterable_spread","TypeError","getNotification","param","text","_param_type","type","_param_warning","warning","notification","document","createElement","title","message","style","textTransform","setAttribute","concat","textContent","backgroundColor","append","body","setTimeout","remove","processEditInput","editInput","activeRow","querySelector","normalizedValue","validateEditInput","value","editingCell","includes","replace","toLocaleString","focus","parentElement","edit","getOptionCities","select","officeCities","forEach","city","option","processEditCity","editCity","getElementsByName","tableBodyRows","form","tableHead","querySelectorAll","submitButton","rows","Set","map","row","cells","sortField","isDescending","el","label","toLowerCase","input","typeInput","addEventListener","e","preventDefault","employee","validationResult","selectedRow","target","tableCopy","index","findIndex","cell","sortBy","sortedRows","sort","a","b","cellA","cellB","sortParam","salaryA","localeCompare","reverse","tableBody","newTableBody","replaceWith","removeAttribute","validateEmployeeData","nameValue","position","age","salary","trim","keys","key","reset","selectedCell","cityCell","width","boxSizing","border","borderRadius","color","padding","outlineColor"],"version":3,"file":"index.10bb6165.js.map"}